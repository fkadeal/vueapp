{"remainingRequest":"C:\\Users\\etbaba\\Documents\\codPrj\\vueapp\\vueapp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\etbaba\\Documents\\codPrj\\vueapp\\vueapp\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\etbaba\\Documents\\codPrj\\vueapp\\vueapp\\src\\router\\index.js","dependencies":[{"path":"C:\\Users\\etbaba\\Documents\\codPrj\\vueapp\\vueapp\\src\\router\\index.js","mtime":1602505037486},{"path":"C:\\Users\\etbaba\\Documents\\codPrj\\vueapp\\vueapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\etbaba\\Documents\\codPrj\\vueapp\\vueapp\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\etbaba\\Documents\\codPrj\\vueapp\\vueapp\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL2V0YmFiYS9Eb2N1bWVudHMvY29kUHJqL3Z1ZWFwcC92dWVhcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgeyBjcmVhdGVSb3V0ZXIsIGNyZWF0ZVdlYkhpc3RvcnkgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IEhvbWUgZnJvbSAnLi4vdmlld3MvSG9tZS52dWUnOwppbXBvcnQgVXNlcnByb2ZpbGUgZnJvbSAnLi4vdmlld3MvVXNlclByb2ZpbGUudnVlJzsKaW1wb3J0IEFkbWluIGZyb20gJy4uL3ZpZXdzL0FkbWluLnZ1ZSc7CmltcG9ydCBzdG9yZSBmcm9tICcuLi9zdG9yZSc7CmltcG9ydCB7IHVzZXJzIH0gZnJvbSAnLi4vYXNzZXRzL3VzZXJzJzsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIG5hbWU6ICdIb21lJywKICBjb21wb25lbnQ6IEhvbWUKfSwgewogIHBhdGg6ICcvdXNlci86dXNlcklkJywKICBuYW1lOiAnVXNlcnByb2ZpbGUnLAogIGNvbXBvbmVudDogVXNlcnByb2ZpbGUKfSwgewogIHBhdGg6ICcvYWRtaW4nLAogIG5hbWU6ICdBZG1pbicsCiAgY29tcG9uZW50OiBBZG1pbiwKICBtZXRhOiB7CiAgICByZXF1aXJlc0FkbWluOiB0cnVlCiAgfQp9XTsKdmFyIHJvdXRlciA9IGNyZWF0ZVJvdXRlcih7CiAgaGlzdG9yeTogY3JlYXRlV2ViSGlzdG9yeSgpLAogIHJvdXRlczogcm91dGVzCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaCggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSh0bywgZnJvbSwgbmV4dCkgewogICAgdmFyIHVzZXIsIGlzQWRtaW4sIHJlcXVpcmVzQWRtaW47CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIHVzZXIgPSBzdG9yZS5zdGF0ZS5Vc2VyLnVzZXI7CgogICAgICAgICAgICBpZiAodXNlcikgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgcmV0dXJuIHN0b3JlLmRpc3BhdGNoKCdVc2VyL3NldFVzZXInLCB1c2Vyc1swXSk7CgogICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBpc0FkbWluID0gZmFsc2U7CiAgICAgICAgICAgIHJlcXVpcmVzQWRtaW4gPSB0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgICAgICAgICAgIHJldHVybiByZWNvcmQubWV0YS5yZXF1aXJlc0FkbWluOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKHJlcXVpcmVzQWRtaW4gJiYgIWlzQWRtaW4pIG5leHQoewogICAgICAgICAgICAgIG5hbWU6ICdIb21lJwogICAgICAgICAgICB9KTtlbHNlIG5leHQoKTsKCiAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["C:/Users/etbaba/Documents/codPrj/vueapp/vueapp/src/router/index.js"],"names":["createRouter","createWebHistory","Home","Userprofile","Admin","store","users","routes","path","name","component","meta","requiresAdmin","router","history","beforeEach","to","from","next","user","state","User","dispatch","isAdmin","matched","some","record"],"mappings":";;;AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AACA,OAAOC,WAAP,MAAwB,0BAAxB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,SAASC,KAAT,QAAsB,iBAAtB;AAEA,IAAMC,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,SAAS,EAAER;AAHb,CADa,EAMb;AACEM,EAAAA,IAAI,EAAE,eADR;AAEEC,EAAAA,IAAI,EAAE,aAFR;AAGEC,EAAAA,SAAS,EAAEP;AAHb,CANa,EAWb;AACEK,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,SAAS,EAAEN,KAHb;AAIEO,EAAAA,IAAI,EAAC;AACHC,IAAAA,aAAa,EAAC;AADX;AAJP,CAXa,CAAf;AAsBA,IAAMC,MAAM,GAAGb,YAAY,CAAC;AAC1Bc,EAAAA,OAAO,EAAEb,gBAAgB,EADC;AAE1BM,EAAAA,MAAM,EAANA;AAF0B,CAAD,CAA3B;AAIAM,MAAM,CAACE,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACVC,YAAAA,IADU,GACHd,KAAK,CAACe,KAAN,CAAYC,IAAZ,CAAiBF,IADd;;AAAA,gBAGZA,IAHY;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAIRd,KAAK,CAACiB,QAAN,CAAe,cAAf,EAA+BhB,KAAK,CAAC,CAAD,CAApC,CAJQ;;AAAA;AAMViB,YAAAA,OANU,GAMA,KANA;AAOVX,YAAAA,aAPU,GAOMI,EAAE,CAACQ,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAACf,IAAP,CAAYC,aAAhB;AAAA,aAAtB,CAPN;AAShB,gBAAGA,aAAa,IAAI,CAACW,OAArB,EAA8BL,IAAI,CAAC;AAACT,cAAAA,IAAI,EAAE;AAAP,aAAD,CAAJ,CAA9B,KACKS,IAAI;;AAVO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAYA,eAAeL,MAAf","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router'\r\nimport Home from '../views/Home.vue'\r\nimport Userprofile from '../views/UserProfile.vue'\r\nimport Admin from '../views/Admin.vue'\r\nimport store from '../store';\r\nimport { users } from '../assets/users'\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'Home',\r\n    component: Home\r\n  },\r\n  {\r\n    path: '/user/:userId',\r\n    name: 'Userprofile',\r\n    component: Userprofile\r\n  },\r\n  {\r\n    path: '/admin',\r\n    name: 'Admin',\r\n    component: Admin,\r\n    meta:{\r\n      requiresAdmin:true\r\n    }\r\n  }\r\n\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  routes\r\n})\r\nrouter.beforeEach(async (to, from, next)=>{\r\n  const user = store.state.User.user;\r\n\r\n  if(!user){\r\n    await store.dispatch('User/setUser', users[0])\r\n  }\r\n  const isAdmin = false;\r\n  const requiresAdmin = to.matched.some(record => record.meta.requiresAdmin);\r\n\r\n  if(requiresAdmin && !isAdmin) next({name: 'Home'});\r\n  else next();\r\n} )\r\nexport default router\r\n"]}]}